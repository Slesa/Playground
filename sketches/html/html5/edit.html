<!DOCTYPE html>
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Editing profile</title>
	<link href="edit.css" rel="stylesheet" media="screen">
	<script type="text/javascript" charset="utf-8" src="../jquery-1.6.4.js"></script>
</head>

<body>
<h1>User information</h1>
<section id="edit_profile_link">
	<p><a href="edit_2.html">Edit your profile</a></p>
</section>
<div id="status"></div>
<ul>
	<li>
		<b>Name</b>
		<span id="name" contenteditable="true">Hugh Mann</span>
	</li>
	<li>
		<b>City</b>
		<span id="city" contenteditable="true">Anytown</span>
	</li>
	<li>
		<b>State</b>
		<span id="state" contenteditable="true">OH</span>
	</li>
	<li>
		<b>Postal Code</b>
		<span id="postal_code" contenteditable="true">92110</span>
	</li>
	<li>
		<b>Email</b>
		<span id="email" contenteditable="true">boss@awesomecompany.com</span>
	</li>
</ul>

<script type="text/javascript">

$(function(){
	if (document.getElementById("edit_profile_link").contentEditable != null) {
		$("#edit_profile_link").hide();
		var status = $("#status");
		$("span[contenteditable=true]").blur(function(){
			var field = $(this).attr("id");
			var value = $(this).text();
			$.post("http://localhost/users/1",
				field + "=" + value,
				function(data){
					status.text(data);
				}
			);
		});
	}
});

</script>

</body>

</html>
